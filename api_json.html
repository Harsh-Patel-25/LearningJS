<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API & JSON</title>
</head>

<body>
    <script>
        // let jsonRes = '{"name":"Harsh","age":21}'; //json data (string format)

        // // Access data from json
        // //JSON.parse(data) use for string => js obj
        // let validRes = JSON.parse(jsonRes);
        // console.log(validRes);
        // console.log(validRes.name);

        // //JSON.stringify(json) use for js obj => JSON
        // let newjson = JSON.stringify(validRes);
        // console.log(newjson);

        //1st request using fetch(url)
        // let url = 'https://catfact.ninja/fact';
        // fetch(url)
        //     .then((res) => {
        //         console.log(res);
        //         return res.json(); // To make the console data readable , returns promises
        //     })
        //     .then((data) => {
        //         console.log(data);
        //     })
        //     .catch((err) => {
        //         console.log(err);
        //     });

        //Using fetch with async and await
        let url = 'https://catfact.ninja/fact';
        async function getFacts() {
            try {
                let res = await fetch(url);
                let data = await res.json();
                console.log(data.fact);
            }
            catch(err) {
                console.log("error is -", err);
            }
            console.log("Thank you for using.");
        }
    </script>
</body>

</html>